---
title: 使用七牛云 + PicGo 搭建图床并快速获取图片外链
date: 2019-10-21 09:25:00
author: HoGee
img: http://img.hogee.fun/girl-1736419_960_720.jpg
top: true
cover: true
toc: true
summary: 厌恶了 word 排版的麻烦和不稳定,使用 Markdown 写文档，不可避免用到图床
categories: 工作流
tags:
  - Markdown
---

## 背景

- 2019 年 9 月开始优化需求文档~~要好看~~

- 厌恶了 word 排版的麻烦和不稳定
  
    - 每次花大量时间排版
    
    - 每次排版样式还不一样，总需要想上个文档用什么样式
    
    - 千辛万苦排好了，不一样的人不一样的环境打开还不一定一样
  
- 开始接触 markdown ~~其实早就想用，但是断断续续没坚持下来~~，这次下决心使用它
  
- 用 markdown 不可避免使用图床，因为写的是工作用的文档，对图床有一定要求：
  
    - 稳定，不会突然带着我的资料跑路
    
    - 速度，不要挑战开发的耐心…
    
    - 空间和流量费用倒是其次，毕竟非公开的文档要用不了多少流量







## 选择七牛

我最终选择了**七牛云**，理由：

- 国内云服务大厂，意思是不会带着我的数据突然跑路

- 个人用户有 10G 的免费永久存储空间，对于只存图片的图床来说够用

- 不限制上传流量，每月免费 PUT/DELETE 10 万次请求以及每月免费 GET 100 万次请求，也完全够用

- 每月免费下载的流量 10GB，够用，~~毕竟小透明~~

- 免费的 CDN 加速，再不用担心别人躲在山洞里看我的文档








## 注册＋实名认证

实名认证后才能享受这些福利，个人用户申请个人认证就好。认证方式可以选支付宝或者银行转账认证，按提示认证后等待审核。七牛将在 3 个工作日内完成审核，审核结果将通过邮件和短信通知

我等了 30 分钟








## 申请域名并备案

设置图床需要用到`域名`。以前七牛云是免费提供一个测试域名的，但现在政策改为测试域名只有 **1 个月**使用期，如果不绑定其他的域名，那到期以后图床也不能使用了，所以还是得自己准备一个域名

有很多地方都可以申请到免费域名，本来很方便的事情，但由于你懂的原因，国内还需要对域名进行`备案`，这是个麻烦事

但好在一切麻烦事都可以用💸减少麻烦：

- 8 块钱在阿里云买了个域名
  
- 10 块钱找私人买了个备案号
  
- 然后老老实实走流程：
  
    - 阿里审核 < 1 天
    
    - 管局审核 > 半个月

**备案申请下来以后前期准备就齐活了，下面开工**








## 新建图床

首先在[七牛云对象储存](https://portal.qiniu.com/bucket/create)创建存储空间

![](http://img.hogee.fun/20190928215256.png) 

- 存储空间名称：随意
  
- 存储区域：选近的，华南
  
- 访问控制：只能公开，否则别人看不到

创建完成后就已经可以正常使用了，此时的操作步骤是：

> 1. 登录七牛云，进入存储空间—内容管理
> 2. 上传图片
> 3. 复制生成的外链
> 4. 粘贴至文档内

需求解决了，但每张图片都要这么操作一次，没有效率并且一点都不酷！









## 如何变酷



### 更换域名

虽然空间创建后七牛云自动分配了一个`测试域名`，但只有 1 个月，并且很长，为了避免麻烦当然还得用自己的省心

在操作面板内选择`绑定域名`

![](http://img.hogee.fun/20190928223037.png)

![](http://img.hogee.fun/20190928223111.png) 

- 加速域名：填写自己的域名，建议使用二级域名
  
- 通信协议：当然 HTTP 了，HTTPS不算在免费流量内~~贫穷的泪水~~
  
- 覆盖范围：我选全球
  
- 其他默认

添加后七牛会提供`CNAME地址`

![](http://img.hogee.fun/20190928223559.png)

接下来回到阿里云解析，给域名添加`CNAME`解析记录，解析完成后回到七牛云，在==内容管理==下设置`外链默认域名`（如果之前已经删掉测试域名，这里就默认使用刚才添加的自定义域名了）




### 配置PicGO

- 下载安装 [PicGO]( https://github.com/Molunerfinn/PicGo/releases )

- 打开设置面板，在图床设置种选择七牛图床

    ![1569682064855](http://img.hogee.fun/20190929082737.png)
    
- `AccessKey`和`SecretKey`在七牛云的==个人面板-秘钥管理==中得到
  
- 存储空间名：填上七牛云中设置的名字
  
- 访问地址：填上刚才设置的`自定义域名`，**记得添加 http://**
  
- 确认存储区域：区域对应需要填入`区域代码`，对应代码如下
  
  ![](http://img.hogee.fun/20190928225407.png) 
  
- 其他不填，少填少错
  

至此，写文档时的贴图流程变为：

> 1. 复制图片
> 2. 按 PicGO 快捷键上传至图床
> 3. Ctrl+V 粘贴链接到文档

  全键盘操作并且全程不到 2 秒，于是你成为了`酷boy`🕺

当然你还可以打开 PicGo 面板，批量拖入图片，一次性上传多张图片

无论使用什么方式，通过 PicGo 上传的图片，都可以在面板中管理

  

​     
